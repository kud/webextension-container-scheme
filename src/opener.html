<!-- This Source Code Form is subject to the terms of the Mozilla Public
  -- License, v. 2.0. If a copy of the MPL was not distributed with this
  -- file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<!doctype html>

<html lang="en">

<head>
    <title>Open external links in a container. Or not.</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="chrome://browser/skin/error-pages.css">
    <style>
        #internalErrorContainer .title {
            background-image: url("chrome://global/skin/icons/error.svg");
            fill: red;
        }
        
        #securityConfirmationContainer .title {
            background-image: url("chrome://browser/skin/cert-error.svg");
        }
        
        .hidden {
            /* opacity: 0.3; */
            display: none;
        }
        
        #securityConfirmationContainerName,
        #internalErrorBody,
        #securityConfirmationUrl {
            font-weight: bold;
        }
        
        #internalErrorBody,
        #securityConfirmationUrl {
            display: block;
            overflow: auto;
        }
    </style>
</head>

<body>
    <div xmlns="http://www.w3.org/1999/xhtml" id="errorPageContainer" class="container">
        <div id="text-container">
            <!-- Internal error -->
            <div id="internalErrorContainer" class="hidden">
                <div class="title">
                    <h1 class="title-text">Error: Open external links in a container</h1>
                </div>

                <div class="description">
                    <div>
                        <p>We are unable to open the URL you requested.</p>
                        <p>This could be due to an internal problem or some mistakes in your link. Please check the correctness of your link and try again. If you think there's a problem with an extension, please <a href="https://github.com/honsiorovskyi/open-url-in-container/issues">let us know</a>.</p>

                        <p>Below you can see some error details:</p>
                        <p id="internalErrorBody"></p>
                    </div>
                </div>
            </div>
            <!-- / Internal error -->

            <!-- Security confirmation -->
            <div id="securityConfirmationContainer" class="hidden">
                <div class="title">
                    <h1 class="title-text">Open link in container?</h1>
                </div>

                <div class="description">
                    <div>
                        <p>
                            Do you want to open this URL in the <span id="securityConfirmationContainerName"></span> container?
                        </p>
                        <p>
                            <span id="securityConfirmationUrl"></span>
                        </p>
                        <p>Only continue if you trust this link. Untrusted links may compromise your container isolation.</p>
                    </div>
                </div>

                <div class="button-container">
                    <button id="securityConfirmationGoBack" class="primary" autofocus="true">Cancel</button>
                    <button id="securityConfirmationConfirm">Open Link</button>
                </div>
            </div>
            <!-- / Security confirmation -->
        </div>

        <script src="./js/opener/opener.js" type="module"></script>
</body>

</html>